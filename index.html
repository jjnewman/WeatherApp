<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Weather App</title>
    <link rel="stylesheet" href="css/weather-style.css">
  </head>
  <body>
    <main class="shadow">
      <div class="icon snow">
        <img src="images/snow.svg">
      </div>
      <select class="cities"></select>
      <span class="temperature"></span>
    </main>
    <script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
    <script>
      var apiData = ["London, uk", "Paris, fr", "Sydney, au"];

      var temperature = 22;
      var weatherIcon = 'snow';
      $.each(apiData, function(index, city) {
        $('.cities').append(
          $('<option></option>').val(city).html(city )
        );
      });
      $('img').attr('src', 'images/' + weatherIcon + '.svg')


       $('.cities').change(function(){
        var aa = $('option:selected', $(this)).text();
        callJson(aa)
      });

      function callJson(city) {
        $.getJSON("http://api.openweathermap.org/data/2.5/weather?q=" + city, function(data){
          var temp = Math.floor(data.main.temp - 273.15)
          $('.temperature').text(temp);
            });
        };
    </script>
  </body>
</html>

